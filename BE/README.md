
[![푸디트리](https://github.com/user-attachments/assets/7c75da16-cfd0-4409-8511-d67cc83d47d2)](https://foodieetreee.shop)
- 서비스 배포 : https://foodieetreee.shop 혹은 위의 사진을 클릭하여 접속할 수 있습니다.

<br>

## 프로젝트 소개 🌳

푸디트리 프로젝트는 당일 생산된 음식을 저렴하게 제공하는 플랫폼입니다.판매되지 않고 자원 낭비 위험에 처한 음식을 효과적으로 활용하여 고객에게는 경제적인 혜택을,  상점에는 손실을 줄이고  CO₂  배출을 감소시키는 기회를 제공합니다.  지역 음식점과 협력해 신선한 음식을 소진하고,  지속 가능한 소비 문화를 촉진하며,  지역 사회에 긍정적인 영향을 미치는 윈-윈 솔루션을 구현합니다.

<br>

## 팀원 구성 🍽️

<div align="center">

| **김한솔**                                                                                                                                 | **서정인**                                                                                                                                       | **송나래**                                                                                                                               | **송호성**                                                                                                                                 | **신윤종**                                                                                                                                 | **전혜린**                                                                                                                               |
| :-----------------------------------------------------------------------------------------------------------------------------------------: | :----------------------------------------------------------------------------------------------------------------------------------------------: | :---------------------------------------------------------------------------------------------------------------------------------------: | :--------------------------------------------------------------------------------------------------------------------------------------: | :--------------------------------------------------------------------------------------------------------------------------------------: | :-------------------------------------------------------------------------------------------------------------------------------------: |
| [<img src="https://avatars.githubusercontent.com/u/160578362?v=4" height=150 width=150> <br/> @hansolkim9](https://github.com/hansolkim9) | [<img src="https://avatars.githubusercontent.com/u/162551171?v=4" height=150 width=150> <br/> @munginisfree](https://github.com/munginisfree)     | [<img src="https://avatars.githubusercontent.com/u/157199245?v=4" height=150 width=150> <br/> @dazzlingtea](https://github.com/dazzlingtea) | [<img src="https://avatars.githubusercontent.com/u/62678380?v=4" height=150 width=150> <br/> @hoseong511](https://github.com/hoseong511) | [<img src="https://avatars.githubusercontent.com/u/161430857?v=4" height=150 width=150> <br/> @Maybaba](https://github.com/Maybaba)    | [<img src="https://avatars.githubusercontent.com/u/160578098?v=4" height=150 width=150> <br/> @hyerin11](https://github.com/hyerin11) |
</div>

<br>

## 1. 개발 환경 👷

- Front : HTML, JSP, vanilla JS, styled-components, react
- Back-end : Java, spring boot, mybatis, mariadb, JPA
- -개발 툴 : IntelliJ, Postman, Swagger, Visual Studio Code
- 버전 및 이슈관리 : Github, Jira
- 협업 툴 : Discord, Notion, Github
- 배포 플랫폼 : aws EC2
  <br>

## 2. 채택한 개발 기술과 브랜치 전략 ✰

•  **Spring MVC**

Spring MVC(Model-View-Controller)는 웹 애플리케이션 개발에 사용되는 아키텍처 패턴으로, 데이터를 모델로 관리하고, 뷰로 렌더링하며, 사용자 입력을 처리하는 컨트롤러를 통해 애플리케이션의 유지보수성과 재사용성을 높입니다. 또한 서버사이드 렌더링을 통해 클라이언트에 완성된 HTML을 전달하여 초기 로딩 속도를 개선하였습니다.

•  **JPA (Java Persistence API)**

기존의 MyBatis 기반의 데이터베이스 매핑에서 JPA로 전환함으로써, 객체지향적 설계의 장점을 극대화하고, 코드의 유지보수성을 향상시켰습니다. JPA를 사용함으로써 데이터베이스와 애플리케이션 간의 상호작용을 보다 직관적으로 관리할 수 있었으며, 자동으로 쿼리를 생성하고, 데이터베이스 테이블과 엔터티 클래스 간의 매핑을 쉽게 처리할 수 있었습니다. 이를 통해 개발 속도를 높이고, 데이터베이스 변경에 유연하게 대응할 수 있었습니다.

•  **React로의 전환**

기존에 JSP로 구현된 프론트엔드를 React로 전환한 이유는, 프론트엔드의 동적인 UI 구성과 복잡한 상태 관리를 보다 효율적으로 처리하기 위함이었습니다. React는 컴포넌트 기반 구조를 통해 재사용 가능한 UI 요소를 쉽게 구현할 수 있게 해주며, 클라이언트 사이드에서의 렌더링을 통해 사용자 경험을 향상시켰습니다. 이로 인해 사용자의 상호작용에 빠르게 대응할 수 있는 인터페이스를 구축할 수 있었습니다.

•  **RESTful API**

RESTful API는 클라이언트와 서버 간의 통신을 단순화하고 일관성 있게 만들어줍니다. HTTP 메서드(GET, POST, PUT, DELETE 등)를 사용하여 자원을 처리하며, URL을 통해 자원을 식별합니다. 이를 통해 프론트엔드와 백엔드 간의 데이터 교환이 명확하고 구조적으로 이루어지며, 코드의 유지보수성과 확장성을 높였습니다.

### 컨벤션

- 정해진 규칙에 따라 자동으로 코드 스타일을 정리해 코드의 일관성을 유지하려 노력했습니다.

-  Google 스타일 가이드를 바탕으로 코딩 컨벤션을 설정했고, 특정 예외 규칙은 팀원들과 협의하여 정했습니다. 이를 통해 코드의 가독성을 높이고, 팀 간의 협업 효율성을 강화했습니다.


### 브랜치 전략

•  **브랜치 구조**

  **main** 브랜치: 배포 단계에서만 사용하는 최종 버전 브랜치입니다.

 **test** 브랜치: 개발 단계에서 git-flow의 master 역할을 하는 브랜치로, 모든 기능이 통합되고 테스트됩니다.

**feature** 브랜치: 기능 단위로 독립적인 개발을 위해 사용하는 브랜치입니다. 각 기능이 완성되면 test 브랜치로 병합한 후, 해당 브랜치는 삭제하여 관리합니다.

**fix** 브랜치: 버그 수정이나 핫픽스를 위한 브랜치로, 긴급한 수정 사항을 처리할 때 사용합니다.
<br>

## 3. 역할 분담 👨‍🍳

### 송호성
- **기능**
  - 개인정보 수정 화면 컴포넌트화
  - 개인정보 수정 API 개발
  - REST 방식 API (GET, PATCH, UPDATE, DELETE) 활용
  - 검색 쿼리 API 개발 및 페이지 렌더링
  - 스켈레톤 로딩 적용
  - 카카오페이 결제 API 연동

### 김한솔
- **기능**
  - 예약 관리 UI 개발
  - 예약 상태별 스타일링 및 상세 정보 디자인 수정
  - 예약 목록 필터링 및 동적 로딩 (스크롤 페이징)
  - 가게 스케줄 관리 및 상세 정보 표시
  - 스페셜팩 갯수 추가 및 모달 연동
  - 예약 조회/취소/픽업 완료 API 엔드포인트 구현
  - 모바일 예약 무한스크롤 적용

### 전혜린
- **기능**
  - 회원 전용 메인페이지 및 반응형 디자인 적용
  - 가게 필터링 컴포넌트 개발
  - Store, Product 엔터티 전환 및 가게 정보 불러오기
  - 메인페이지: 단골가게, 추천 가게, 근처 가게 출력
  - 카테고리 페이지: 추천 및 전체 가게 리스트 출력
  - 선호지역 기반 가게 필터링 및 찜하기 기능
  - 반응형 모바일 메뉴바 제작
  - 리뷰 커뮤니티: 리뷰 GET 및 SNS 형식 렌더링
  - 리뷰 작성 페이지 레이아웃 및 해시태그 기능 개발

### 송나래
- **기능**
  - 도로명 주소 검색 기능 추가
  - 관리자 승인/거절 관련 REST API 개발
  - Spring Validation 적용 및 예외 처리
  - 등록 요청 목록 조회, 승인/거절 기능 구현
  - 사업자 등록번호 검증 (Open API 통신)
  - 등록 요청 모아 처리 (TaskScheduler 사용)
  - SockJs와 STOMP 기반 실시간 알림 처리
  - 알림 클릭 시 읽음 처리 기능 추가
  - 예약 후 1분 뒤 리뷰 알림 발송

**배포** )전반적인 배포 아키텍쳐 설계 /  s3 이미지 저장 로직 구현 
### 서정인
- **기능**
  - Context API로 모달 상태 관리
  - 반응형 전체 모달 디자인 및 기능 개발 (웹/모바일)
  - 상품 예약 모달 UI 개발 및 지도 API 연동
  - 네이버 지도 API 연동 및 길 안내 제공
  - Customer MyPage 지도 기반 선호지역 관리
  - 실시간 채팅 UI 및 파일 관리 (AWS S3 연동)
  - 이슈 카테고리화 및 실시간 메시지 처리

**배포**) 전반적인 배포 아키텍쳐 설계 /  dns, ec2, s3, docker, nginx를 통한 https 배포 아키텍쳐 구현

### 신윤종
- **기능**
  - JWT 토큰 기반 회원가입, 자동로그인, 로그인 인증/인가 API 개발
  - 토큰 만료 처리 및 갱신 로직 구현
  -   비회원용 메인페이지 및 모바일 반응형 디자인 추가
  - 메인페이지의 헤더 및 푸터 디자인
  - 메인페이지 서버사이드 렌더링 및 디자인 구현

<br>

## 5. 개발 기간 및 작업 관리 ⏰

### 개발 기간

- 전체 개발 기간 : 2024-07-14 ~ 2022-08-28
- UI 구현 : 2024-07-14 ~ 2024-07-21
- api 구현 : 2024-07-21 ~ 2024-08-14
- 신기능 구현 : 2024-08-14 ~ 2024-08-23
- 배포 및 테스트 : 2024-08-23 ~ 2024-08-28

<br>

### 작업 관리

- GitHub와 discord을 사용하여 진행 상황을 공유했습니다.
- 주간회의를 진행하며 작업 순서와 방향성에 대한 고민을 나누고 notion, discord에 회의 내용을 기록했습니다.
- Jira를 사용하여 모든 작업을 태스크 단위로 관리하였으며, 각 태스크는 기능, 버그 수정, 기술 부채 관리 등으로 분류되었습니다. 작업이 시작되면 관련 브랜치를 생성하고, 해당 태스크에 대한 커밋 메시지에 Jira 이슈 키를 포함하여 작업 이력을 관리했습니다.


<br>

## 6. 개선 목표 🔨
  
** 모듈화**

  - 반복적인 API 호출 코드의 모듈화 진행.
  - 공통 API 요청 로직을 별도의 모듈로 추출하여 재사용성 증가.
  - 코드의 유지보수성을 높이고, 중복 코드 최소화.

  - **UI 컴포넌트**: 
    - 자주 사용되는 UI 요소를 별도의 컴포넌트로 분리하여 재사용성 및 관리 용이성 향상.
    - 공통 스타일과 로직을 가진 컴포넌트를 모듈화하여 코드 일관성 확보.
  - **성능 최적화**:
    - 컴포넌트의 Lazy Loading 및 코드 스플리팅을 통해 초기 로딩 시간 단축.
    - 필요한 경우만 컴포넌트를 로드하여 전체 애플리케이션의 성능 향상.



<br>

## 7. 페이지별 기능 🖥️

### [초기 (비회원) 화면]

- 서비스 접속 시 모두에게 보여지는 화면으로, 서버사이드렌더링인 JSP로 구현하였습니다. 
- 메인화면에는 곧 판매가 종료되는 스페셜팩과 제일 많이 판매한 스페셜팩을 확인할 수 있습니다. 
- 입점신청 버튼을 클릭하면 store의 회원가입 페이지로 네비게이트 됩니다. 

| 초기화면 |
| -------- |


![foodietree 웹 비회원](https://github.com/user-attachments/assets/a8e036a5-0ee5-4719-9a6c-5e8ede7c9d43)
<br>
![모바일_비회원페이지만](https://github.com/user-attachments/assets/f53d4297-c236-4b4f-a9e2-513eed8a5a2d)

<br><br>
### [로그인 및 회원가입]

- 로그인 및 회원가입 시 사용자는 이메일로만 서비스 이용 가능합니다. 
- 이메일을 입력하면 기존의 회원 테이블에서 중복과 유효성을 확인 후 인증메일 발송을 누를 수 있게 됩니다. 
- 사용자는 유효한 토큰이 담긴 인증메일 링크를 메일함에서 확인 후 해당 링크로 리다이렉트 하여 화원가입을 완료합니다. 
- 추후 로그인 시에는 이미 있는 이메일로 로그인을 시도할 수 있으며, 회원가입과 로직은 동일합니다.
- 사용자는 로그아웃을 누르지 않는 한 리프레시토큰의 유효한 기간에 따라 자동로그인 되어 있으며, 로그아웃을 누르면 로컬스토리지의 토큰이 삭제되어 서비스 이용에 제한이 있습니다.

| 이메일 인증 로그인/회원가입 화면 |
| ------------------------------- |
![웹_customer 로그인:회원가입](https://github.com/user-attachments/assets/c4c70ceb-41b9-468b-a92c-b883c664db6a)

<br>

![모바일_입점신청](https://github.com/user-attachments/assets/ea59ab1a-1e0f-4ef9-abf3-35e958a3e430)

| customer가 store 마이페이지에 접근하려 했을 때 |
| ------------------------------- |
![웹_접근인가설정](https://github.com/user-attachments/assets/4be5bc83-0ea7-43a9-b887-f13e21e86a85)

<br><br>
### [입점신청 화면]

-  사업자 인증번호 입력검증 로직을 추가하여 사업인가를 받은 사업자만 입점 신청 가능합니다.
- 도로명 주소 기반으로 검색 기능을 추가하여 사용자의 편의성을 향상하였습니다.
- 사업자등록번호 등 기본정보 등록 > 스페셜팩 음식사진과 가격 등록 순으로 등록 상태에 따라 해당하는 입력단계로 이동하도록 하여 사용자 경험을 개선하였습니다. 
- 등록 중 이탈하여도 등록 단계가 DB에 저장되어서 기존 단계에서 이어갈 수 있습니다. 
- 모든 단계를 지나 등록이 완료될 경우 admin 페이지의 인가 페이지에 해당 상점이 목록으로 뜨게 됩니다. 

| store 입점신청 페이지|
| ------------------------------- |
![foodietree입점신청](https://github.com/user-attachments/assets/097fdfe2-be34-4627-a20f-d2436eed8928)


<br><br>
### [회원 메인 페이지]

- 로그인 시 customer 유저는 스페셜팩이 있는 메인페이지로 네비게이트 됩니다.
- 메인 화면에서는 내가 찜 한 단골가게, 내가 좋아하는 장소, 위치기반 근처 가게, 위치 기반 이웃들이 찜한 추천가게, 마지막으로 내가 좋아하는 카테고리의 상점들이 렌더링 됩니다. 
- 사용자에게 커스터마이징 된 스페셜 팩 가게의 리스트를 확인할 수 있습니다. 
- 사용자는 하트 아이콘을 눌러 비동기로 찜을 하거나 해제할 수 있습니다 
- 헤더의 위치를 수정해서 근처 가게를 헤더의 위치에 따라 위치에 다르게 렌더링 되는 것을 확인할 수 있습니다. 
- 모바일 환경에서 더 직관적으로 확인 가능합니다. 

| customer 메인 페이지 |
| ------------------------------- |

![회원메인_찜](https://github.com/user-attachments/assets/b33c47c5-237b-4f5a-9839-e9034dd99a92)

![모바일회원메인](https://github.com/user-attachments/assets/fae5fd47-218b-4073-8599-8c218aad2e53)

<br><br>
### [회원 메인 음식 카테고리별 페이지]
- 음식 카테고리별로 스페셜팩과 가게를 확인할 수 있습니다.
- 푸디트리에 등록된 가게의 카테고리를 화면에 렌더링 합니다. 
- 메인화면과 마찬가지로 찜한 가게, 주변 가게 등을 카테고리에 따라 렌더링 합니다. 
- 모바일 화면에서 더 직관적으로 확인 가능합니다. 

| customer 음식 카테고리별 페이지 |
| ------------------------------- |

![회원메인_음식별카테고리](https://github.com/user-attachments/assets/3eee181b-abef-4083-a6c8-b92a113bd810)
<br>
![모바일회원카테고리](https://github.com/user-attachments/assets/4f4c2583-5d35-4f99-a781-cd6400b0fc52)

<br><br>
### [관리자 페이지 화면]

- 가게의 모든 입점신청 단계가 완료되면 tanstack table 을 사용하여 테이블 및 정렬 기능을 구현하여 사용자의 편의성을 높였습니다. 
- datapicker를 사용하여 기간을 기준으로 목록을 조회하였습니다.
- 선택한 데이터들이 검증 통과 시 승인 및 거절처리를 하도록 구현하였습니다. 
- 등록요청 발생 시 3분간 요청을 모아서 자동으로 검증하도록 task scheduler를 사용하여 시스템 효율성을 개선하였습니다. 
 

| admin 가게 인증 / 인가 페이지 |
| ------------------------------- |
![웹관리자입점관리](https://github.com/user-attachments/assets/0c107442-ea3a-4867-9ec1-0f1f525b7cf3)

<br><br>
### [예약 관련 알림 화면]
- SockJS와 STOMP를 사용하여 회원별로 실시간 알림을 구독할 수 있습니다. 
- 개별 알림 클릭 또는 전체 알림 버튼을 클릭 시 읽음 처리 기능을 추가하여 사용자의 인터렉션을 강화하였습니다. 
- 예약 확인, 취소, 픽업확인 , 완료 후 1분 후 리뷰 알림을 전송하도록 설정하였습니다. 
- 알림 목록 및 읽음 처리를 rest API로 구현하여 알림 관리를 간소화 하였습니다. 

| 예약 및 픽업 취소, 완료 시 알림모달에서 내역 확인하기 |
| ------------------------------- |

![구입픽업알림](https://github.com/user-attachments/assets/1080656c-7887-4d38-98f1-54619ca87082)
<br>
![구메-cs채팅](https://github.com/user-attachments/assets/211553cd-6871-4490-bcbf-9f2a2892534c)


<br><br>
### [CS 실시간 채팅 화면]
- 웹소켓을 통해 실시간으로 customer issue 관련 메시지를 관리자와 주고받을 수 있는 채팅 UI를 구현하였습니다.
- 채팅 입장 전 이슈 카테고리를 선택할 수 있도록 하였습니다.
- 다수의 사용자가 CS 관리자와 실시간으로 메시지를 주고받을 수 있도록 web socket 서버를 설정하고 채팅 메시지의 전송 및 수신 로직을 구현하였습니다. 
- 기존에 사용되지 않던 테이블(tbl_blackList, tbl_issue)을 모달 연동에 필요한 데이터로 활용하였습니다. 


| cs 실시간 채팅 신청하는 화면 |
| ------------------------------- |

![0 웹_무엇을도와드릴까요클릭](https://github.com/user-attachments/assets/4f83ed3c-397e-44d8-910f-08940bab0cb1)
<br>
![0 웹_이슈카테고리_연결](https://github.com/user-attachments/assets/6ddce596-31e8-4b96-a153-fd08bfd87136)
<br>
![cs 모바일](https://github.com/user-attachments/assets/234c7b63-de76-431e-9316-3991d177dab8)

| customer가 관리자에게 실시간으로 문의하는 화면 |
| ------------------------------- |
![foodietreeCS모바일채팅](https://github.com/user-attachments/assets/66c6e52c-84c5-4dc7-bed3-4f25488fb778)
| 관리자가 채팅 내역을 확인하는 화면 |
| |
![웹 admin 이슈 내용 확인](https://github.com/user-attachments/assets/2443e4ad-3dc2-4be9-a240-724281d1791c)

<br><br>
### [리뷰 커뮤니티 등록, 확인]
- 사용자가 픽업을 완료하면 리뷰등록 알림이 화면상단에 뜨게됩니다. 알림을 클릭하여 리뷰 폼 화면으로 리뷰 작성이 가능합니다. 
- 리뷰를 등록 시 해시태그를 3개 이상 등록하여야 합니다.
- 해시태그는 긍정적인 키워드만 고를 수 있습니다.
- 리뷰를 등록하게 되면 현재 위치에 기반한 리뷰 리스트를 확인할 수 있어 사용자에게 지역 커뮤니티에 참여하도록 유도합니다. 


| 리뷰 등록 / 리뷰 리스트 페이지 |
| ------------------------------- |
![foodietree웹리뷰](https://github.com/user-attachments/assets/07508c09-f44d-4f42-96ec-55cd6d2cef8c)
| |
![foodietree모바일리뷰](https://github.com/user-attachments/assets/310a6309-de85-47ab-869c-86dcb589597d)




### [전체 모달 개발 및 디자인]
- 상점을 클릭하면 해당 상점의 위치정보, 스페셜팩 수량, sold out 여부, 상품 이미지, 상점 이미지를 확인할 수 있습니다. 
- 결제모달 : 상점의 위치를 naver map api를 통해 확인할 수 있으며, 스페셜팩 개수, 총 수량, 총 개수를 확인 가능합니다.
- customer mypage에서 내가 선호하는 위치를 수정, 삭제, 저장, 확인할 수 있습니다. 
- 기존 JSP에서 react로 전환하면서 웹사이트 내 모든 모달창을 관리하도록 context API를 사용하여 모달 상태관리 기능을 구현하였습니다.

